<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Inegleit v0</title>
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src='https://d3js.org/d3.v5.min.js'></script>
</head>
<body>
    
    <div class="parent">
        <div id="pile"></div>
    </div>
    
    <div class="parent" >
        <div id="hand" style="float: left"></div>
        <button type="button">INEGLEIT!!!</button>
    </div>
    <script>
    // move to config
    var width = 200, 
    height = 300;

    var topcard = [{x: 30, y: 30, color: "yellow", number: 1}]

    var topsvg = d3.select("#pile")
        .append("svg")
        .attr("width", "300px")
        .attr("height", "400px");

    topsvg.selectAll("toprectangle")
        .data(topcard)
        .enter()
        .append("rect")
        .attr("width", width)
        .attr("height", height)
        .attr("x", function (d) { return d.x })
        .attr("y", function (d) { return d.y })
        .attr("style", function (d) { return "fill:" + d.color })

    var text = topsvg.selectAll("text")
        .data(topcard)
        .enter()
        .append("text")
        .attr("x", function (d) { return d.x +20 })
        .attr("y", function (d) { return d.y +50 })
        .text( function (d) { return d.number })
        .attr("font-size", "50px")
        .attr("font-family", "sans-serif")
        .attr("fill", function (d) { 
            if ( d.color == "yellow" ) { return "black" }
            else { return "white" }
        })


    var svg = d3.select("#hand")
        .append("svg")
        .attr("width", "800px")
        .attr("height", "500px");

    // should move to config
    
    // test cards 
    var cards = [{x: 100, y: 100, color: "red", number: 2}, 
                 {x: 200, y: 110, color: "blue", number: 7},
                 {x: 300, y: 120, color: "green", number: 0},
                 {x: 400, y: 130, color: "black", number: "+4"},
                 {x: 500, y: 140, color: "yellow", number: "+2"}
                ]

    svg.selectAll("rectangle")
        .data(cards)
        .enter()
        .append("rect")
        .attr("width", width)
        .attr("height", height)
        .attr("x", function (d) { return d.x })
        .attr("y", function (d) { return d.y })
        .attr("style", function (d) { return "fill:" + d.color })

    var text = svg.selectAll("text")
        .data(cards)
        .enter()
        .append("text")
        .attr("x", function (d) { return d.x +20 })
        .attr("y", function (d) { return d.y +50 })
        .text( function (d) { return d.number })
        .attr("font-size", "50px")
        .attr("font-family", "sans-serif")
        .attr("fill", function (d) { 
            if ( d.color == "yellow" ) { return "black" }
            else { return "white" }
        })
    </script>
</body>
</html>